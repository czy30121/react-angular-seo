user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /var/run/nginx.pid;


include /usr/share/nginx/modules/*.conf;

events {
    worker_connections 1024;
}

http {


    gzip on;
    gzip_http_version  1.1;
    gzip_comp_level    5;
    gzip_min_length    256;
    gzip_proxied       any;
    gzip_vary          on;
    gzip_types
        application/atom+xml
        application/javascript
        application/json
        application/rss+xml
        application/vnd.ms-fontobject
        application/x-font-ttf
        application/x-web-app-manifest+json
        application/xhtml+xml
        application/xml
        font/opentype
        image/svg+xml
        image/x-icon
        text/css
        text/plain
        text/x-component;
 
    sendfile on;

    server {
        listen       80;
        server_name www.ganatan.com ganatan.com;
  		return 301 https://$server_name$request_uri;
    }

	server {

        listen              443 ssl http2;
 		ssi on;        
   		ssl on;
        server_name         www.ganatan.com ganatan.com;
 
 		ssl_certificate     www.ganatan.com.crt;
        ssl_certificate_key www.ganatan.com.key;

        location / {
            proxy_pass http://127.0.0.1:4000;
        }       

	}

}